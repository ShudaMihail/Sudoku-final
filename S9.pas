unit S9;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, StdCtrls, ExtCtrls;

type
  TForm2 = class(TForm)
    GroupBox1: TGroupBox;
    Panel1: TPanel;
    Panel2: TPanel;
    Panel3: TPanel;
    Panel4: TPanel;
    Panel5: TPanel;
    Panel6: TPanel;
    Panel7: TPanel;
    Panel8: TPanel;
    Panel9: TPanel;
    E1_1: TEdit;
    E1_2: TEdit;
    E1_3: TEdit;
    E1_4: TEdit;
    E1_5: TEdit;
    E1_6: TEdit;
    E1_7: TEdit;
    E1_8: TEdit;
    E1_9: TEdit;
    E2_1: TEdit;
    E2_2: TEdit;
    E2_3: TEdit;
    E2_4: TEdit;
    E2_5: TEdit;
    E2_6: TEdit;
    E2_7: TEdit;
    E2_8: TEdit;
    E2_9: TEdit;
    E3_1: TEdit;
    E3_2: TEdit;
    E3_3: TEdit;
    E3_4: TEdit;
    E3_5: TEdit;
    E3_6: TEdit;
    E3_7: TEdit;
    E3_8: TEdit;
    E3_9: TEdit;
    E4_1: TEdit;
    E4_2: TEdit;
    E4_3: TEdit;
    E4_4: TEdit;
    E4_5: TEdit;
    E4_6: TEdit;
    E4_7: TEdit;
    E4_8: TEdit;
    E4_9: TEdit;
    E5_1: TEdit;
    E5_2: TEdit;
    E5_3: TEdit;
    E5_4: TEdit;
    E5_5: TEdit;
    E5_6: TEdit;
    E5_7: TEdit;
    E5_8: TEdit;
    E5_9: TEdit;
    E6_1: TEdit;
    E6_2: TEdit;
    E6_3: TEdit;
    E6_4: TEdit;
    E6_5: TEdit;
    E6_6: TEdit;
    E6_7: TEdit;
    E6_8: TEdit;
    E6_9: TEdit;
    E7_1: TEdit;
    E7_2: TEdit;
    E7_3: TEdit;
    E7_4: TEdit;
    E7_5: TEdit;
    E7_6: TEdit;
    E7_7: TEdit;
    E7_8: TEdit;
    E7_9: TEdit;
    E8_1: TEdit;
    E8_2: TEdit;
    E8_3: TEdit;
    E8_4: TEdit;
    E8_5: TEdit;
    E8_6: TEdit;
    E8_7: TEdit;
    E8_8: TEdit;
    E8_9: TEdit;
    E9_1: TEdit;
    E9_2: TEdit;
    E9_3: TEdit;
    E9_4: TEdit;
    E9_5: TEdit;
    E9_6: TEdit;
    E9_7: TEdit;
    E9_8: TEdit;
    E9_9: TEdit;
    GroupBox2: TGroupBox;
    Button1: TButton;
    Button2: TButton;
    Button3: TButton;
    Button4: TButton;
    GroupBox3: TGroupBox;
    ComboBox1: TComboBox;
    Button5: TButton;
    GroupBox4: TGroupBox;
    Label1: TLabel;
    Timer1: TTimer;
    SaveDialog1: TSaveDialog;
    OpenDialog1: TOpenDialog;
    ListBox1: TListBox;
    procedure Button1Click(Sender: TObject);
    procedure Button4Click(Sender: TObject);
    procedure FormCreate(Sender: TObject);
    procedure Button5Click(Sender: TObject);
    procedure Timer1Timer(Sender: TObject);
    procedure FormClose(Sender: TObject; var Action: TCloseAction);
    procedure Button2Click(Sender: TObject);
    procedure E1_1KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E1_2KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E1_3KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E1_4KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E1_5KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E1_6KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E1_9KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E2_2KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E2_3KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E2_4KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E2_5KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E2_6KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E2_7KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E2_8KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E3_1KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E3_2KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E3_3KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E3_4KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E3_5KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E3_6KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E3_7KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E3_8KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E3_9KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E4_1KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E4_2KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E4_3KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E4_4KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E4_5KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E4_6KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E4_7KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E4_8KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E4_9KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E5_1KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E5_2KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E5_3KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E5_4KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E5_5KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E5_6KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E5_7KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E5_8KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E5_9KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E6_1KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E6_2KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E6_3KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E6_4KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E6_5KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E6_6KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E6_7KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E6_8KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E6_9KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E7_1KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E7_2KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E7_3KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E7_4KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E7_5KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E7_6KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E7_7KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E7_8KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E7_9KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E8_1KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E8_2KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E8_3KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E8_4KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E8_5KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E8_6KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E8_7KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E8_8KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E8_9KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E9_1KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E9_2KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E9_3KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E9_4KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E9_5KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E9_6KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E9_7KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E9_8KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E9_9KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E1_7KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E1_8KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E2_1KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure E2_9KeyUp(Sender: TObject; var Key: Word;
      Shift: TShiftState);
    procedure Button3Click(Sender: TObject);
    procedure FormCloseQuery(Sender: TObject; var CanClose: Boolean);
    procedure ComboBox1Change(Sender: TObject);

  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Form2: TForm2;

implementation

{$R *.dfm}
var
  Data:array[1..9,1..9]of byte; //Начальное поле данных
  Map:array[1..9,1..9]of byte; //Карта поля
  TimeGame:integer; //Время игры - для результата.
  DataToSave:array[1..9,1..9]of String[1]; //Поле для записи
  S:string[1];
  R:Integer; //Сообщения
  Level:byte;

Procedure Example;  //Заполнение начального поля данных
Begin
  Data[1,1]:=1;  Data[1,2]:=2;  Data[1,3]:=3;
  Data[1,4]:=4;  Data[1,5]:=5;  Data[1,6]:=6;
  Data[1,7]:=7;  Data[1,8]:=8;  Data[1,9]:=9;

  Data[2,1]:=4;  Data[2,2]:=5;  Data[2,3]:=6;
  Data[2,4]:=7;  Data[2,5]:=8;  Data[2,6]:=9;
  Data[2,7]:=1;  Data[2,8]:=2;  Data[2,9]:=3;

  Data[3,1]:=7;  Data[3,2]:=8;  Data[3,3]:=9;
  Data[3,4]:=1;  Data[3,5]:=2;  Data[3,6]:=3;
  Data[3,7]:=4;  Data[3,8]:=5;  Data[3,9]:=6;

  Data[4,1]:=2;  Data[4,2]:=3;  Data[4,3]:=4;
  Data[4,4]:=5;  Data[4,5]:=6;  Data[4,6]:=7;
  Data[4,7]:=8;  Data[4,8]:=9;  Data[4,9]:=1;

  Data[5,1]:=5;  Data[5,2]:=6;  Data[5,3]:=7;
  Data[5,4]:=8;  Data[5,5]:=9;  Data[5,6]:=1;
  Data[5,7]:=2;  Data[5,8]:=3;  Data[5,9]:=4;

  Data[6,1]:=8;  Data[6,2]:=9;  Data[6,3]:=1;
  Data[6,4]:=2;  Data[6,5]:=3;  Data[6,6]:=4;
  Data[6,7]:=5;  Data[6,8]:=6;  Data[6,9]:=7;

  Data[7,1]:=3;  Data[7,2]:=4;  Data[7,3]:=5;
  Data[7,4]:=6;  Data[7,5]:=7;  Data[7,6]:=8;
  Data[7,7]:=9;  Data[7,8]:=1;  Data[7,9]:=2;

  Data[8,1]:=6;  Data[8,2]:=7;  Data[8,3]:=8;
  Data[8,4]:=9;  Data[8,5]:=1;  Data[8,6]:=2;
  Data[8,7]:=3;  Data[8,8]:=4;  Data[8,9]:=5;

  Data[9,1]:=9;  Data[9,2]:=1;  Data[9,3]:=2;
  Data[9,4]:=3;  Data[9,5]:=4;  Data[9,6]:=5;
  Data[9,7]:=6;  Data[9,8]:=7;  Data[9,9]:=8;
End;

Procedure Mapping;
Var
  i,j,x,y,z:byte;
Begin
  Randomize;

  //Транспонирование матрицы поля
  x:=random(8)+1;
  for i:=1 to 9 do
    for j:=1 to 9 do
    Case x of
      1 : Map[10-j,i]:=Data[i,j];
      2 : Map[10-i,10-j]:=Data[i,j];
      3 : Map[j,10-i]:=Data[i,j];
      4 : Map[i,j]:=Data[i,j];
      5 : Map[j,i]:=Data[i,j];
      6 : Map[10-i,j]:=Data[i,j];
      7 : Map[10-j,10-i]:=Data[i,j];
      8 : Map[i,10-j]:=Data[i,j];
    end;

  //Перетасовка строк
  for i:=1 to 3 do
    begin
    x:=random(3);
    y:=random(3);
    for j:=1 to 9 do
      begin
      z:=Map[i*3-x,j];
      Map[i*3-x,j]:=Map[i*3-y,j];
      Map[i*3-y,j]:=z;
      end;
    end;

  //Перетасовка столбцов
  for i:=1 to 3 do
    begin
    x:=random(3);
    y:=random(3);
    for j:=1 to 9 do
      begin
      z:=Map[j,i*3-x];
      Map[j,i*3-x]:=Map[j,i*3-y];
      Map[j,i*3-y]:=z;
      end;
    end;

  //Перетасовка областей-строк
  x:=random(3)+1;
  y:=random(3)+1;
  for i:=0 to 2 do
    for j:=1 to 9 do
    begin
    z:=Map[3*x-i,j];
    Map[3*x-i,j]:=Map[3*y-i,j];
    Map[3*y-i,j]:=z;
    end;

  //Перетасовка областей-столбцов
  x:=random(3)+1;
  y:=random(3)+1;
  for i:=0 to 2 do
    for j:=1 to 9 do
    begin
    z:=Map[j,3*x-i];
    Map[j,3*x-i]:=Map[j,3*y-i];
    Map[j,3*y-i]:=z;
    end;

  //Равносильная замена
  for z:=1 to 4 do
  begin
    x:=random(9)+1;
    y:=random(9)+1;
    for i:=1 to 9 do
      for j:=1 to 9 do
      begin
      if map[i,j]=x then map[i,j]:=y
        else if map[i,j]=y then map[i,j]:=x;
      end;
  end;
end;

Procedure CreateMap;
Var
  i,j,l,e:byte;
Begin
  Randomize;
  l:=S9.Form2.ComboBox1.ItemIndex;
  Case l of
    0: e:=32;
    1: e:=40;
    2: e:=45;
    3: e:=50;
    4: e:=57;
  end;

  l:=0;
  repeat
  i:=random(9)+1;
  j:=random(9)+1;
  if map[i,j]<>0 then
  begin
    map[i,j]:=0;
    map[10-i,10-j]:=0;
    if (10-i=i)and(10-j=j) then inc(l)
      else l:=l+2;
  end;
  until (l>e);

End;

Procedure ShowMap;
Begin
  S9.Form2.E1_1.Text:=IntToStr(Map[1,1]);
  S9.Form2.E1_2.Text:=IntToStr(Map[1,2]);
  S9.Form2.E1_3.Text:=IntToStr(Map[1,3]);
  S9.Form2.E1_4.Text:=IntToStr(Map[1,4]);
  S9.Form2.E1_5.Text:=IntToStr(Map[1,5]);
  S9.Form2.E1_6.Text:=IntToStr(Map[1,6]);
  S9.Form2.E1_7.Text:=IntToStr(Map[1,7]);
  S9.Form2.E1_8.Text:=IntToStr(Map[1,8]);
  S9.Form2.E1_9.Text:=IntToStr(Map[1,9]);
  S9.Form2.E2_1.Text:=IntToStr(Map[2,1]);
  S9.Form2.E2_2.Text:=IntToStr(Map[2,2]);
  S9.Form2.E2_3.Text:=IntToStr(Map[2,3]);
  S9.Form2.E2_4.Text:=IntToStr(Map[2,4]);
  S9.Form2.E2_5.Text:=IntToStr(Map[2,5]);
  S9.Form2.E2_6.Text:=IntToStr(Map[2,6]);
  S9.Form2.E2_7.Text:=IntToStr(Map[2,7]);
  S9.Form2.E2_8.Text:=IntToStr(Map[2,8]);
  S9.Form2.E2_9.Text:=IntToStr(Map[2,9]);
  S9.Form2.E3_1.Text:=IntToStr(Map[3,1]);
  S9.Form2.E3_2.Text:=IntToStr(Map[3,2]);
  S9.Form2.E3_3.Text:=IntToStr(Map[3,3]);
  S9.Form2.E3_4.Text:=IntToStr(Map[3,4]);
  S9.Form2.E3_5.Text:=IntToStr(Map[3,5]);
  S9.Form2.E3_6.Text:=IntToStr(Map[3,6]);
  S9.Form2.E3_7.Text:=IntToStr(Map[3,7]);
  S9.Form2.E3_8.Text:=IntToStr(Map[3,8]);
  S9.Form2.E3_9.Text:=IntToStr(Map[3,9]);
  S9.Form2.E4_1.Text:=IntToStr(Map[4,1]);
  S9.Form2.E4_2.Text:=IntToStr(Map[4,2]);
  S9.Form2.E4_3.Text:=IntToStr(Map[4,3]);
  S9.Form2.E4_4.Text:=IntToStr(Map[4,4]);
  S9.Form2.E4_5.Text:=IntToStr(Map[4,5]);
  S9.Form2.E4_6.Text:=IntToStr(Map[4,6]);
  S9.Form2.E4_7.Text:=IntToStr(Map[4,7]);
  S9.Form2.E4_8.Text:=IntToStr(Map[4,8]);
  S9.Form2.E4_9.Text:=IntToStr(Map[4,9]);
  S9.Form2.E5_1.Text:=IntToStr(Map[5,1]);
  S9.Form2.E5_2.Text:=IntToStr(Map[5,2]);
  S9.Form2.E5_3.Text:=IntToStr(Map[5,3]);
  S9.Form2.E5_4.Text:=IntToStr(Map[5,4]);
  S9.Form2.E5_5.Text:=IntToStr(Map[5,5]);
  S9.Form2.E5_6.Text:=IntToStr(Map[5,6]);
  S9.Form2.E5_7.Text:=IntToStr(Map[5,7]);
  S9.Form2.E5_8.Text:=IntToStr(Map[5,8]);
  S9.Form2.E5_9.Text:=IntToStr(Map[5,9]);
  S9.Form2.E6_1.Text:=IntToStr(Map[6,1]);
  S9.Form2.E6_2.Text:=IntToStr(Map[6,2]);
  S9.Form2.E6_3.Text:=IntToStr(Map[6,3]);
  S9.Form2.E6_4.Text:=IntToStr(Map[6,4]);
  S9.Form2.E6_5.Text:=IntToStr(Map[6,5]);
  S9.Form2.E6_6.Text:=IntToStr(Map[6,6]);
  S9.Form2.E6_7.Text:=IntToStr(Map[6,7]);
  S9.Form2.E6_8.Text:=IntToStr(Map[6,8]);
  S9.Form2.E6_9.Text:=IntToStr(Map[6,9]);
  S9.Form2.E7_1.Text:=IntToStr(Map[7,1]);
  S9.Form2.E7_2.Text:=IntToStr(Map[7,2]);
  S9.Form2.E7_3.Text:=IntToStr(Map[7,3]);
  S9.Form2.E7_4.Text:=IntToStr(Map[7,4]);
  S9.Form2.E7_5.Text:=IntToStr(Map[7,5]);
  S9.Form2.E7_6.Text:=IntToStr(Map[7,6]);
  S9.Form2.E7_7.Text:=IntToStr(Map[7,7]);
  S9.Form2.E7_8.Text:=IntToStr(Map[7,8]);
  S9.Form2.E7_9.Text:=IntToStr(Map[7,9]);
  S9.Form2.E8_1.Text:=IntToStr(Map[8,1]);
  S9.Form2.E8_2.Text:=IntToStr(Map[8,2]);
  S9.Form2.E8_3.Text:=IntToStr(Map[8,3]);
  S9.Form2.E8_4.Text:=IntToStr(Map[8,4]);
  S9.Form2.E8_5.Text:=IntToStr(Map[8,5]);
  S9.Form2.E8_6.Text:=IntToStr(Map[8,6]);
  S9.Form2.E8_7.Text:=IntToStr(Map[8,7]);
  S9.Form2.E8_8.Text:=IntToStr(Map[8,8]);
  S9.Form2.E8_9.Text:=IntToStr(Map[8,9]);
  S9.Form2.E9_1.Text:=IntToStr(Map[9,1]);
  S9.Form2.E9_2.Text:=IntToStr(Map[9,2]);
  S9.Form2.E9_3.Text:=IntToStr(Map[9,3]);
  S9.Form2.E9_4.Text:=IntToStr(Map[9,4]);
  S9.Form2.E9_5.Text:=IntToStr(Map[9,5]);
  S9.Form2.E9_6.Text:=IntToStr(Map[9,6]);
  S9.Form2.E9_7.Text:=IntToStr(Map[9,7]);
  S9.Form2.E9_8.Text:=IntToStr(Map[9,8]);
  S9.Form2.E9_9.Text:=IntToStr(Map[9,9]);
End;

Procedure ClearMap;
Begin
If S9.Form2.E1_1.Text='0' then S9.Form2.E1_1.Text:=''
  else S9.Form2.E1_1.Enabled:=False;
If S9.Form2.E1_2.Text='0' then S9.Form2.E1_2.Text:=''
  else S9.Form2.E1_2.Enabled:=False;
If S9.Form2.E1_3.Text='0' then S9.Form2.E1_3.Text:=''
  else S9.Form2.E1_3.Enabled:=False;
If S9.Form2.E1_4.Text='0' then S9.Form2.E1_4.Text:=''
  else S9.Form2.E1_4.Enabled:=False;
If S9.Form2.E1_5.Text='0' then S9.Form2.E1_5.Text:=''
  else S9.Form2.E1_5.Enabled:=False;
If S9.Form2.E1_6.Text='0' then S9.Form2.E1_6.Text:=''
  else S9.Form2.E1_6.Enabled:=False;
If S9.Form2.E1_7.Text='0' then S9.Form2.E1_7.Text:=''
  else S9.Form2.E1_7.Enabled:=False;
If S9.Form2.E1_8.Text='0' then S9.Form2.E1_8.Text:=''
  else S9.Form2.E1_8.Enabled:=False;
If S9.Form2.E1_9.Text='0' then S9.Form2.E1_9.Text:=''
  else S9.Form2.E1_9.Enabled:=False;
If S9.Form2.E2_1.Text='0' then S9.Form2.E2_1.Text:=''
  else S9.Form2.E2_1.Enabled:=False;
If S9.Form2.E2_2.Text='0' then S9.Form2.E2_2.Text:=''
  else S9.Form2.E2_2.Enabled:=False;
If S9.Form2.E2_3.Text='0' then S9.Form2.E2_3.Text:=''
  else S9.Form2.E2_3.Enabled:=False;
If S9.Form2.E2_4.Text='0' then S9.Form2.E2_4.Text:=''
  else S9.Form2.E2_4.Enabled:=False;
If S9.Form2.E2_5.Text='0' then S9.Form2.E2_5.Text:=''
  else S9.Form2.E2_5.Enabled:=False;
If S9.Form2.E2_6.Text='0' then S9.Form2.E2_6.Text:=''
  else S9.Form2.E2_6.Enabled:=False;
If S9.Form2.E2_7.Text='0' then S9.Form2.E2_7.Text:=''
  else S9.Form2.E2_7.Enabled:=False;
If S9.Form2.E2_8.Text='0' then S9.Form2.E2_8.Text:=''
  else S9.Form2.E2_8.Enabled:=False;
If S9.Form2.E2_9.Text='0' then S9.Form2.E2_9.Text:=''
  else S9.Form2.E2_9.Enabled:=False;
If S9.Form2.E3_1.Text='0' then S9.Form2.E3_1.Text:=''
  else S9.Form2.E3_1.Enabled:=False;
If S9.Form2.E3_2.Text='0' then S9.Form2.E3_2.Text:=''
  else S9.Form2.E3_2.Enabled:=False;
If S9.Form2.E3_3.Text='0' then S9.Form2.E3_3.Text:=''
  else S9.Form2.E3_3.Enabled:=False;
If S9.Form2.E3_4.Text='0' then S9.Form2.E3_4.Text:=''
  else S9.Form2.E3_4.Enabled:=False;
If S9.Form2.E3_5.Text='0' then S9.Form2.E3_5.Text:=''
  else S9.Form2.E3_5.Enabled:=False;
If S9.Form2.E3_6.Text='0' then S9.Form2.E3_6.Text:=''
  else S9.Form2.E3_6.Enabled:=False;
If S9.Form2.E3_7.Text='0' then S9.Form2.E3_7.Text:=''
  else S9.Form2.E3_7.Enabled:=False;
If S9.Form2.E3_8.Text='0' then S9.Form2.E3_8.Text:=''
  else S9.Form2.E3_8.Enabled:=False;
If S9.Form2.E3_9.Text='0' then S9.Form2.E3_9.Text:=''
  else S9.Form2.E3_9.Enabled:=False;
If S9.Form2.E4_1.Text='0' then S9.Form2.E4_1.Text:=''
  else S9.Form2.E4_1.Enabled:=False;
If S9.Form2.E4_2.Text='0' then S9.Form2.E4_2.Text:=''
  else S9.Form2.E4_2.Enabled:=False;
If S9.Form2.E4_3.Text='0' then S9.Form2.E4_3.Text:=''
  else S9.Form2.E4_3.Enabled:=False;
If S9.Form2.E4_4.Text='0' then S9.Form2.E4_4.Text:=''
  else S9.Form2.E4_4.Enabled:=False;
If S9.Form2.E4_5.Text='0' then S9.Form2.E4_5.Text:=''
  else S9.Form2.E4_5.Enabled:=False;
If S9.Form2.E4_6.Text='0' then S9.Form2.E4_6.Text:=''
  else S9.Form2.E4_6.Enabled:=False;
If S9.Form2.E4_7.Text='0' then S9.Form2.E4_7.Text:=''
  else S9.Form2.E4_7.Enabled:=False;
If S9.Form2.E4_8.Text='0' then S9.Form2.E4_8.Text:=''
  else S9.Form2.E4_8.Enabled:=False;
If S9.Form2.E4_9.Text='0' then S9.Form2.E4_9.Text:=''
  else S9.Form2.E4_9.Enabled:=False;
If S9.Form2.E5_1.Text='0' then S9.Form2.E5_1.Text:=''
  else S9.Form2.E5_1.Enabled:=False;
If S9.Form2.E5_2.Text='0' then S9.Form2.E5_2.Text:=''
  else S9.Form2.E5_2.Enabled:=False;
If S9.Form2.E5_3.Text='0' then S9.Form2.E5_3.Text:=''
  else S9.Form2.E5_3.Enabled:=False;
If S9.Form2.E5_4.Text='0' then S9.Form2.E5_4.Text:=''
  else S9.Form2.E5_4.Enabled:=False;
If S9.Form2.E5_5.Text='0' then S9.Form2.E5_5.Text:=''
  else S9.Form2.E5_5.Enabled:=False;
If S9.Form2.E5_6.Text='0' then S9.Form2.E5_6.Text:=''
  else S9.Form2.E5_6.Enabled:=False;
If S9.Form2.E5_7.Text='0' then S9.Form2.E5_7.Text:=''
  else S9.Form2.E5_7.Enabled:=False;
If S9.Form2.E5_8.Text='0' then S9.Form2.E5_8.Text:=''
  else S9.Form2.E5_8.Enabled:=False;
If S9.Form2.E5_9.Text='0' then S9.Form2.E5_9.Text:=''
  else S9.Form2.E5_9.Enabled:=False;
If S9.Form2.E6_1.Text='0' then S9.Form2.E6_1.Text:=''
  else S9.Form2.E6_1.Enabled:=False;
If S9.Form2.E6_2.Text='0' then S9.Form2.E6_2.Text:=''
  else S9.Form2.E6_2.Enabled:=False;
If S9.Form2.E6_3.Text='0' then S9.Form2.E6_3.Text:=''
  else S9.Form2.E6_3.Enabled:=False;
If S9.Form2.E6_4.Text='0' then S9.Form2.E6_4.Text:=''
  else S9.Form2.E6_4.Enabled:=False;
If S9.Form2.E6_5.Text='0' then S9.Form2.E6_5.Text:=''
  else S9.Form2.E6_5.Enabled:=False;
If S9.Form2.E6_6.Text='0' then S9.Form2.E6_6.Text:=''
  else S9.Form2.E6_6.Enabled:=False;
If S9.Form2.E6_7.Text='0' then S9.Form2.E6_7.Text:=''
  else S9.Form2.E6_7.Enabled:=False;
If S9.Form2.E6_8.Text='0' then S9.Form2.E6_8.Text:=''
  else S9.Form2.E6_8.Enabled:=False;
If S9.Form2.E6_9.Text='0' then S9.Form2.E6_9.Text:=''
  else S9.Form2.E6_9.Enabled:=False;
If S9.Form2.E7_1.Text='0' then S9.Form2.E7_1.Text:=''
  else S9.Form2.E7_1.Enabled:=False;
If S9.Form2.E7_2.Text='0' then S9.Form2.E7_2.Text:=''
  else S9.Form2.E7_2.Enabled:=False;
If S9.Form2.E7_3.Text='0' then S9.Form2.E7_3.Text:=''
  else S9.Form2.E7_3.Enabled:=False;
If S9.Form2.E7_4.Text='0' then S9.Form2.E7_4.Text:=''
  else S9.Form2.E7_4.Enabled:=False;
If S9.Form2.E7_5.Text='0' then S9.Form2.E7_5.Text:=''
  else S9.Form2.E7_5.Enabled:=False;
If S9.Form2.E7_6.Text='0' then S9.Form2.E7_6.Text:=''
  else S9.Form2.E7_6.Enabled:=False;
If S9.Form2.E7_7.Text='0' then S9.Form2.E7_7.Text:=''
  else S9.Form2.E7_7.Enabled:=False;
If S9.Form2.E7_8.Text='0' then S9.Form2.E7_8.Text:=''
  else S9.Form2.E7_8.Enabled:=False;
If S9.Form2.E7_9.Text='0' then S9.Form2.E7_9.Text:=''
  else S9.Form2.E7_9.Enabled:=False;
If S9.Form2.E8_1.Text='0' then S9.Form2.E8_1.Text:=''
  else S9.Form2.E8_1.Enabled:=False;
If S9.Form2.E8_2.Text='0' then S9.Form2.E8_2.Text:=''
  else S9.Form2.E8_2.Enabled:=False;
If S9.Form2.E8_3.Text='0' then S9.Form2.E8_3.Text:=''
  else S9.Form2.E8_3.Enabled:=False;
If S9.Form2.E8_4.Text='0' then S9.Form2.E8_4.Text:=''
  else S9.Form2.E8_4.Enabled:=False;
If S9.Form2.E8_5.Text='0' then S9.Form2.E8_5.Text:=''
  else S9.Form2.E8_5.Enabled:=False;
If S9.Form2.E8_6.Text='0' then S9.Form2.E8_6.Text:=''
  else S9.Form2.E8_6.Enabled:=False;
If S9.Form2.E8_7.Text='0' then S9.Form2.E8_7.Text:=''
  else S9.Form2.E8_7.Enabled:=False;
If S9.Form2.E8_8.Text='0' then S9.Form2.E8_8.Text:=''
  else S9.Form2.E8_8.Enabled:=False;
If S9.Form2.E8_9.Text='0' then S9.Form2.E8_9.Text:=''
  else S9.Form2.E8_9.Enabled:=False;
If S9.Form2.E9_1.Text='0' then S9.Form2.E9_1.Text:=''
  else S9.Form2.E9_1.Enabled:=False;
If S9.Form2.E9_2.Text='0' then S9.Form2.E9_2.Text:=''
  else S9.Form2.E9_2.Enabled:=False;
If S9.Form2.E9_3.Text='0' then S9.Form2.E9_3.Text:=''
  else S9.Form2.E9_3.Enabled:=False;
If S9.Form2.E9_4.Text='0' then S9.Form2.E9_4.Text:=''
  else S9.Form2.E9_4.Enabled:=False;
If S9.Form2.E9_5.Text='0' then S9.Form2.E9_5.Text:=''
  else S9.Form2.E9_5.Enabled:=False;
If S9.Form2.E9_6.Text='0' then S9.Form2.E9_6.Text:=''
  else S9.Form2.E9_6.Enabled:=False;
If S9.Form2.E9_7.Text='0' then S9.Form2.E9_7.Text:=''
  else S9.Form2.E9_7.Enabled:=False;
If S9.Form2.E9_8.Text='0' then S9.Form2.E9_8.Text:=''
  else S9.Form2.E9_8.Enabled:=False;
If S9.Form2.E9_9.Text='0' then S9.Form2.E9_9.Text:=''
  else S9.Form2.E9_9.Enabled:=False;
End;

Procedure Clearing;
Begin
S9.Form2.E1_1.Enabled:=true;
S9.Form2.E1_2.Enabled:=true;
S9.Form2.E1_3.Enabled:=true;
S9.Form2.E1_4.Enabled:=true;
S9.Form2.E1_5.Enabled:=true;
S9.Form2.E1_6.Enabled:=true;
S9.Form2.E1_7.Enabled:=true;
S9.Form2.E1_8.Enabled:=true;
S9.Form2.E1_9.Enabled:=true;
S9.Form2.E2_1.Enabled:=true;
S9.Form2.E2_2.Enabled:=true;
S9.Form2.E2_3.Enabled:=true;
S9.Form2.E2_4.Enabled:=true;
S9.Form2.E2_5.Enabled:=true;
S9.Form2.E2_6.Enabled:=true;
S9.Form2.E2_7.Enabled:=true;
S9.Form2.E2_8.Enabled:=true;
S9.Form2.E2_9.Enabled:=true;
S9.Form2.E3_1.Enabled:=true;
S9.Form2.E3_2.Enabled:=true;
S9.Form2.E3_3.Enabled:=true;
S9.Form2.E3_4.Enabled:=true;
S9.Form2.E3_5.Enabled:=true;
S9.Form2.E3_6.Enabled:=true;
S9.Form2.E3_7.Enabled:=true;
S9.Form2.E3_8.Enabled:=true;
S9.Form2.E3_9.Enabled:=true;
S9.Form2.E4_1.Enabled:=true;
S9.Form2.E4_2.Enabled:=true;
S9.Form2.E4_3.Enabled:=true;
S9.Form2.E4_4.Enabled:=true;
S9.Form2.E4_5.Enabled:=true;
S9.Form2.E4_6.Enabled:=true;
S9.Form2.E4_7.Enabled:=true;
S9.Form2.E4_8.Enabled:=true;
S9.Form2.E4_9.Enabled:=true;
S9.Form2.E5_1.Enabled:=true;
S9.Form2.E5_2.Enabled:=true;
S9.Form2.E5_3.Enabled:=true;
S9.Form2.E5_4.Enabled:=true;
S9.Form2.E5_5.Enabled:=true;
S9.Form2.E5_6.Enabled:=true;
S9.Form2.E5_7.Enabled:=true;
S9.Form2.E5_8.Enabled:=true;
S9.Form2.E5_9.Enabled:=true;
S9.Form2.E6_1.Enabled:=true;
S9.Form2.E6_2.Enabled:=true;
S9.Form2.E6_3.Enabled:=true;
S9.Form2.E6_4.Enabled:=true;
S9.Form2.E6_5.Enabled:=true;
S9.Form2.E6_6.Enabled:=true;
S9.Form2.E6_7.Enabled:=true;
S9.Form2.E6_8.Enabled:=true;
S9.Form2.E6_9.Enabled:=true;
S9.Form2.E7_1.Enabled:=true;
S9.Form2.E7_2.Enabled:=true;
S9.Form2.E7_3.Enabled:=true;
S9.Form2.E7_4.Enabled:=true;
S9.Form2.E7_5.Enabled:=true;
S9.Form2.E7_6.Enabled:=true;
S9.Form2.E7_7.Enabled:=true;
S9.Form2.E7_8.Enabled:=true;
S9.Form2.E7_9.Enabled:=true;
S9.Form2.E8_1.Enabled:=true;
S9.Form2.E8_2.Enabled:=true;
S9.Form2.E8_3.Enabled:=true;
S9.Form2.E8_4.Enabled:=true;
S9.Form2.E8_5.Enabled:=true;
S9.Form2.E8_6.Enabled:=true;
S9.Form2.E8_7.Enabled:=true;
S9.Form2.E8_8.Enabled:=true;
S9.Form2.E8_9.Enabled:=true;
S9.Form2.E9_1.Enabled:=true;
S9.Form2.E9_2.Enabled:=true;
S9.Form2.E9_3.Enabled:=true;
S9.Form2.E9_4.Enabled:=true;
S9.Form2.E9_5.Enabled:=true;
S9.Form2.E9_6.Enabled:=true;
S9.Form2.E9_7.Enabled:=true;
S9.Form2.E9_8.Enabled:=true;
S9.Form2.E9_9.Enabled:=true;
End;

Procedure FullClear;
Begin
S9.Form2.E1_1.Text:='';S9.Form2.E1_2.Text:='';S9.Form2.E1_3.Text:='';
S9.Form2.E1_4.Text:='';S9.Form2.E1_5.Text:='';S9.Form2.E1_6.Text:='';
S9.Form2.E1_7.Text:='';S9.Form2.E1_8.Text:='';S9.Form2.E1_9.Text:='';
S9.Form2.E2_1.Text:='';S9.Form2.E2_2.Text:='';S9.Form2.E2_3.Text:='';
S9.Form2.E2_4.Text:='';S9.Form2.E2_5.Text:='';S9.Form2.E2_6.Text:='';
S9.Form2.E2_7.Text:='';S9.Form2.E2_8.Text:='';S9.Form2.E2_9.Text:='';
S9.Form2.E3_1.Text:='';S9.Form2.E3_2.Text:='';S9.Form2.E3_3.Text:='';
S9.Form2.E3_4.Text:='';S9.Form2.E3_5.Text:='';S9.Form2.E3_6.Text:='';
S9.Form2.E3_7.Text:='';S9.Form2.E3_8.Text:='';S9.Form2.E3_9.Text:='';
S9.Form2.E4_1.Text:='';S9.Form2.E4_2.Text:='';S9.Form2.E4_3.Text:='';
S9.Form2.E4_4.Text:='';S9.Form2.E4_5.Text:='';S9.Form2.E4_6.Text:='';
S9.Form2.E4_7.Text:='';S9.Form2.E4_8.Text:='';S9.Form2.E4_9.Text:='';
S9.Form2.E5_1.Text:='';S9.Form2.E5_2.Text:='';S9.Form2.E5_3.Text:='';
S9.Form2.E5_4.Text:='';S9.Form2.E5_5.Text:='';S9.Form2.E5_6.Text:='';
S9.Form2.E5_7.Text:='';S9.Form2.E5_8.Text:='';S9.Form2.E5_9.Text:='';
S9.Form2.E6_1.Text:='';S9.Form2.E6_2.Text:='';S9.Form2.E6_3.Text:='';
S9.Form2.E6_4.Text:='';S9.Form2.E6_5.Text:='';S9.Form2.E6_6.Text:='';
S9.Form2.E6_7.Text:='';S9.Form2.E6_8.Text:='';S9.Form2.E6_9.Text:='';
S9.Form2.E7_1.Text:='';S9.Form2.E7_2.Text:='';S9.Form2.E7_3.Text:='';
S9.Form2.E7_4.Text:='';S9.Form2.E7_5.Text:='';S9.Form2.E7_6.Text:='';
S9.Form2.E7_7.Text:='';S9.Form2.E7_8.Text:='';S9.Form2.E7_9.Text:='';
S9.Form2.E8_1.Text:='';S9.Form2.E8_2.Text:='';S9.Form2.E8_3.Text:='';
S9.Form2.E8_4.Text:='';S9.Form2.E8_5.Text:='';S9.Form2.E8_6.Text:='';
S9.Form2.E8_7.Text:='';S9.Form2.E8_8.Text:='';S9.Form2.E8_9.Text:='';
S9.Form2.E9_1.Text:='';S9.Form2.E9_2.Text:='';S9.Form2.E9_3.Text:='';
S9.Form2.E9_4.Text:='';S9.Form2.E9_5.Text:='';S9.Form2.E9_6.Text:='';
S9.Form2.E9_7.Text:='';S9.Form2.E9_8.Text:='';S9.Form2.E9_9.Text:='';
End;

Procedure MapToData;
Begin
DataToSave[1,1]:=S9.Form2.E1_1.Text;
DataToSave[1,2]:=S9.Form2.E1_2.Text;
DataToSave[1,3]:=S9.Form2.E1_3.Text;
DataToSave[1,4]:=S9.Form2.E1_4.Text;
DataToSave[1,5]:=S9.Form2.E1_5.Text;
DataToSave[1,6]:=S9.Form2.E1_6.Text;
DataToSave[1,7]:=S9.Form2.E1_7.Text;
DataToSave[1,8]:=S9.Form2.E1_8.Text;
DataToSave[1,9]:=S9.Form2.E1_9.Text;
DataToSave[2,1]:=S9.Form2.E2_1.Text;
DataToSave[2,2]:=S9.Form2.E2_2.Text;
DataToSave[2,3]:=S9.Form2.E2_3.Text;
DataToSave[2,4]:=S9.Form2.E2_4.Text;
DataToSave[2,5]:=S9.Form2.E2_5.Text;
DataToSave[2,6]:=S9.Form2.E2_6.Text;
DataToSave[2,7]:=S9.Form2.E2_7.Text;
DataToSave[2,8]:=S9.Form2.E2_8.Text;
DataToSave[2,9]:=S9.Form2.E2_9.Text;
DataToSave[3,1]:=S9.Form2.E3_1.Text;
DataToSave[3,2]:=S9.Form2.E3_2.Text;
DataToSave[3,3]:=S9.Form2.E3_3.Text;
DataToSave[3,4]:=S9.Form2.E3_4.Text;
DataToSave[3,5]:=S9.Form2.E3_5.Text;
DataToSave[3,6]:=S9.Form2.E3_6.Text;
DataToSave[3,7]:=S9.Form2.E3_7.Text;
DataToSave[3,8]:=S9.Form2.E3_8.Text;
DataToSave[3,9]:=S9.Form2.E3_9.Text;
DataToSave[4,1]:=S9.Form2.E4_1.Text;
DataToSave[4,2]:=S9.Form2.E4_2.Text;
DataToSave[4,3]:=S9.Form2.E4_3.Text;
DataToSave[4,4]:=S9.Form2.E4_4.Text;
DataToSave[4,5]:=S9.Form2.E4_5.Text;
DataToSave[4,6]:=S9.Form2.E4_6.Text;
DataToSave[4,7]:=S9.Form2.E4_7.Text;
DataToSave[4,8]:=S9.Form2.E4_8.Text;
DataToSave[4,9]:=S9.Form2.E4_9.Text;
DataToSave[5,1]:=S9.Form2.E5_1.Text;
DataToSave[5,2]:=S9.Form2.E5_2.Text;
DataToSave[5,3]:=S9.Form2.E5_3.Text;
DataToSave[5,4]:=S9.Form2.E5_4.Text;
DataToSave[5,5]:=S9.Form2.E5_5.Text;
DataToSave[5,6]:=S9.Form2.E5_6.Text;
DataToSave[5,7]:=S9.Form2.E5_7.Text;
DataToSave[5,8]:=S9.Form2.E5_8.Text;
DataToSave[5,9]:=S9.Form2.E5_9.Text;
DataToSave[6,1]:=S9.Form2.E6_1.Text;
DataToSave[6,2]:=S9.Form2.E6_2.Text;
DataToSave[6,3]:=S9.Form2.E6_3.Text;
DataToSave[6,4]:=S9.Form2.E6_4.Text;
DataToSave[6,5]:=S9.Form2.E6_5.Text;
DataToSave[6,6]:=S9.Form2.E6_6.Text;
DataToSave[6,7]:=S9.Form2.E6_7.Text;
DataToSave[6,8]:=S9.Form2.E6_8.Text;
DataToSave[6,9]:=S9.Form2.E6_9.Text;
DataToSave[7,1]:=S9.Form2.E7_1.Text;
DataToSave[7,2]:=S9.Form2.E7_2.Text;
DataToSave[7,3]:=S9.Form2.E7_3.Text;
DataToSave[7,4]:=S9.Form2.E7_4.Text;
DataToSave[7,5]:=S9.Form2.E7_5.Text;
DataToSave[7,6]:=S9.Form2.E7_6.Text;
DataToSave[7,7]:=S9.Form2.E7_7.Text;
DataToSave[7,8]:=S9.Form2.E7_8.Text;
DataToSave[7,9]:=S9.Form2.E7_9.Text;
DataToSave[8,1]:=S9.Form2.E8_1.Text;
DataToSave[8,2]:=S9.Form2.E8_2.Text;
DataToSave[8,3]:=S9.Form2.E8_3.Text;
DataToSave[8,4]:=S9.Form2.E8_4.Text;
DataToSave[8,5]:=S9.Form2.E8_5.Text;
DataToSave[8,6]:=S9.Form2.E8_6.Text;
DataToSave[8,7]:=S9.Form2.E8_7.Text;
DataToSave[8,8]:=S9.Form2.E8_8.Text;
DataToSave[8,9]:=S9.Form2.E8_9.Text;
DataToSave[9,1]:=S9.Form2.E9_1.Text;
DataToSave[9,2]:=S9.Form2.E9_2.Text;
DataToSave[9,3]:=S9.Form2.E9_3.Text;
DataToSave[9,4]:=S9.Form2.E9_4.Text;
DataToSave[9,5]:=S9.Form2.E9_5.Text;
DataToSave[9,6]:=S9.Form2.E9_6.Text;
DataToSave[9,7]:=S9.Form2.E9_7.Text;
DataToSave[9,8]:=S9.Form2.E9_8.Text;
DataToSave[9,9]:=S9.Form2.E9_9.Text;
End;

Procedure DataToMap;
Begin
S9.Form2.E1_1.Text:=DataToSave[1,1];
S9.Form2.E1_2.Text:=DataToSave[1,2];
S9.Form2.E1_3.Text:=DataToSave[1,3];
S9.Form2.E1_4.Text:=DataToSave[1,4];
S9.Form2.E1_5.Text:=DataToSave[1,5];
S9.Form2.E1_6.Text:=DataToSave[1,6];
S9.Form2.E1_7.Text:=DataToSave[1,7];
S9.Form2.E1_8.Text:=DataToSave[1,8];
S9.Form2.E1_9.Text:=DataToSave[1,9];
S9.Form2.E2_1.Text:=DataToSave[2,1];
S9.Form2.E2_2.Text:=DataToSave[2,2];
S9.Form2.E2_3.Text:=DataToSave[2,3];
S9.Form2.E2_4.Text:=DataToSave[2,4];
S9.Form2.E2_5.Text:=DataToSave[2,5];
S9.Form2.E2_6.Text:=DataToSave[2,6];
S9.Form2.E2_7.Text:=DataToSave[2,7];
S9.Form2.E2_8.Text:=DataToSave[2,8];
S9.Form2.E2_9.Text:=DataToSave[2,9];
S9.Form2.E3_1.Text:=DataToSave[3,1];
S9.Form2.E3_2.Text:=DataToSave[3,2];
S9.Form2.E3_3.Text:=DataToSave[3,3];
S9.Form2.E3_4.Text:=DataToSave[3,4];
S9.Form2.E3_5.Text:=DataToSave[3,5];
S9.Form2.E3_6.Text:=DataToSave[3,6];
S9.Form2.E3_7.Text:=DataToSave[3,7];
S9.Form2.E3_8.Text:=DataToSave[3,8];
S9.Form2.E3_9.Text:=DataToSave[3,9];
S9.Form2.E4_1.Text:=DataToSave[4,1];
S9.Form2.E4_2.Text:=DataToSave[4,2];
S9.Form2.E4_3.Text:=DataToSave[4,3];
S9.Form2.E4_4.Text:=DataToSave[4,4];
S9.Form2.E4_5.Text:=DataToSave[4,5];
S9.Form2.E4_6.Text:=DataToSave[4,6];
S9.Form2.E4_7.Text:=DataToSave[4,7];
S9.Form2.E4_8.Text:=DataToSave[4,8];
S9.Form2.E4_9.Text:=DataToSave[4,9];
S9.Form2.E5_1.Text:=DataToSave[5,1];
S9.Form2.E5_2.Text:=DataToSave[5,2];
S9.Form2.E5_3.Text:=DataToSave[5,3];
S9.Form2.E5_4.Text:=DataToSave[5,4];
S9.Form2.E5_5.Text:=DataToSave[5,5];
S9.Form2.E5_6.Text:=DataToSave[5,6];
S9.Form2.E5_7.Text:=DataToSave[5,7];
S9.Form2.E5_8.Text:=DataToSave[5,8];
S9.Form2.E5_9.Text:=DataToSave[5,9];
S9.Form2.E6_1.Text:=DataToSave[6,1];
S9.Form2.E6_2.Text:=DataToSave[6,2];
S9.Form2.E6_3.Text:=DataToSave[6,3];
S9.Form2.E6_4.Text:=DataToSave[6,4];
S9.Form2.E6_5.Text:=DataToSave[6,5];
S9.Form2.E6_6.Text:=DataToSave[6,6];
S9.Form2.E6_7.Text:=DataToSave[6,7];
S9.Form2.E6_8.Text:=DataToSave[6,8];
S9.Form2.E6_9.Text:=DataToSave[6,9];
S9.Form2.E7_1.Text:=DataToSave[7,1];
S9.Form2.E7_2.Text:=DataToSave[7,2];
S9.Form2.E7_3.Text:=DataToSave[7,3];
S9.Form2.E7_4.Text:=DataToSave[7,4];
S9.Form2.E7_5.Text:=DataToSave[7,5];
S9.Form2.E7_6.Text:=DataToSave[7,6];
S9.Form2.E7_7.Text:=DataToSave[7,7];
S9.Form2.E7_8.Text:=DataToSave[7,8];
S9.Form2.E7_9.Text:=DataToSave[7,9];
S9.Form2.E8_1.Text:=DataToSave[8,1];
S9.Form2.E8_2.Text:=DataToSave[8,2];
S9.Form2.E8_3.Text:=DataToSave[8,3];
S9.Form2.E8_4.Text:=DataToSave[8,4];
S9.Form2.E8_5.Text:=DataToSave[8,5];
S9.Form2.E8_6.Text:=DataToSave[8,6];
S9.Form2.E8_7.Text:=DataToSave[8,7];
S9.Form2.E8_8.Text:=DataToSave[8,8];
S9.Form2.E8_9.Text:=DataToSave[8,9];
S9.Form2.E9_1.Text:=DataToSave[9,1];
S9.Form2.E9_2.Text:=DataToSave[9,2];
S9.Form2.E9_3.Text:=DataToSave[9,3];
S9.Form2.E9_4.Text:=DataToSave[9,4];
S9.Form2.E9_5.Text:=DataToSave[9,5];
S9.Form2.E9_6.Text:=DataToSave[9,6];
S9.Form2.E9_7.Text:=DataToSave[9,7];
S9.Form2.E9_8.Text:=DataToSave[9,8];
S9.Form2.E9_9.Text:=DataToSave[9,9];
End;

procedure TForm2.Button1Click(Sender: TObject);
begin
Timer1.Enabled:=False;
r:=MessageDLG('Начало новой игры удалит текущую игру. Вы уверены, что хотите начать новую?',
  mtWarning,[mbYes,mbNo],0);
if r=mrYes then
Begin
  Clearing;
  Example;
  Mapping;
  CreateMap;
  ShowMap;
  ClearMap;
  TimeGame:=0;
End;
Timer1.Enabled:=True;
end;

procedure TForm2.Button4Click(Sender: TObject);
begin
Form2.Close;
end;

procedure TForm2.FormCreate(Sender: TObject);
begin
ClearMap;
Clearing;
Level:=Combobox1.ItemIndex;
end;

procedure TForm2.Button5Click(Sender: TObject);
Var
  Err:boolean;
  i,j,k,x,y,z,c:byte;
  M:array[1..9] of string[1];
  F:TextFile;
  Rec:integer;
  pos:longint;
begin
Timer1.Enabled:=false;
MapToData;
Err:=false;

for i:=1 to 9 do
  for j:=1 to 9 do
  if DataToSave[i,j]='' then err:=true;
for i:=1 to 9 do
  for j:=1 to 8 do
    for k:=j+1 to 9 do
    if DataToSave[i,j]=DataToSave[i,k] then err:=true;
for i:=1 to 9 do
  for j:=1 to 8 do
    for k:=j+1 to 9 do
    if DataToSave[j,i]=DataToSave[k,i] then err:=true;
for x:=0 to 2 do
  for y:=0 to 2 do
  begin
  k:=0;
  for i:=x*3+1 to (x+1)*3 do
    for j:=y*3+1 to (y+1)*3 do
      begin
      k:=k+1;
      M[k]:=DataToSave[i,j];
      end;

  for z:=1 to 8 do
    for c:=z+1 to 9 do
      if m[z]=m[c] then err:=true;
  end;

if err=true then
  begin
  showmessage('Есть ошибки');
  Timer1.Enabled:=true;
  End
Else
  Begin
  ShowMessage('Решено верно');
  AssignFile(F,ExtractFilePath(Application.exename )+'/Rec_G.srf');
  Reset(F);
  for i:=0 to ComboBox1.ItemIndex do
      Readln(F,Rec);
  CloseFile(F);
  if TimeGame<Rec then
    Begin
    ShowMessage('Вы решили быстрее всех');
    ListBox1.Items.LoadFromFile(ExtractFilePath(Application.exename )+'/Rec_G.srf');
    ListBox1.Items.Strings[ComboBox1.ItemIndex]:=inttostr(TimeGame);
    ListBox1.Items.SaveToFile(ExtractFilePath(Application.exename )+'/Rec_G.srf');
    End;

  Begin
  AssignFile(F,ExtractFilePath(Application.exename )+'/Rec_B.srf');
  Reset(F);
  for i:=0 to ComboBox1.ItemIndex do
      Readln(F,Rec);
  CloseFile(F);
  if TimeGame>Rec then
    Begin
    ShowMessage('Вы решили Медленнее всех');
    ListBox1.Items.LoadFromFile(ExtractFilePath(Application.exename )+'/Rec_B.srf');
    ListBox1.Items.Strings[ComboBox1.ItemIndex]:=inttostr(TimeGame);
    ListBox1.Items.SaveToFile(ExtractFilePath(Application.exename )+'/Rec_B.srf');
    End;
    End;
  End;
end;

procedure TForm2.Timer1Timer(Sender: TObject);
begin
inc(TimeGame);
Label1.Caption:=inttostr(TimeGame);
end;

procedure TForm2.FormClose(Sender: TObject; var Action: TCloseAction);
begin
FullClear;
end;

procedure TForm2.Button2Click(Sender: TObject);
Var
  F:TextFile;
  i,j:byte;
  str:string[4];
  Name:String;
begin
Timer1.Enabled:=false;
if SaveDialog1.Execute then
begin
MapToData;
str:='';
Name:=SaveDialog1.FileName;
for i:=length(Name)-3 to length(Name) do
  str:=str+Name[i];
if str<>'.ssf' then AssignFile(F,SaveDialog1.FileName+'.ssf')
  else AssignFile(F,SaveDialog1.FileName);
Rewrite(F);
for i:=1 to 9 do
  Begin
  For j:=1 to 9 do
    Begin
    if DataToSave[i,j]='' then DataToSave[i,j]:='0';
    Writeln(F,DataToSave[i,j]);
    End;
  End;
for i:=1 to 9 do
  Begin
  For j:=1 to 9 do
    Begin
    Writeln(F,Map[i,j]);
    End;
  End;
Writeln(F,comboBox1.ItemIndex);
Writeln(F,TimeGame);
CloseFile(F)
end;
Timer1.Enabled:=True;
end;

procedure TForm2.E1_1KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E1_1.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E1_1.Text:='';
end;

procedure TForm2.E1_2KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E1_2.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E1_2.Text:='';
end;

procedure TForm2.E1_3KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E1_3.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E1_3.Text:='';
end;

procedure TForm2.E1_4KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E1_4.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E1_4.Text:='';
end;

procedure TForm2.E1_5KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E1_5.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E1_5.Text:='';
end;

procedure TForm2.E1_6KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E1_6.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E1_6.Text:='';
end;

procedure TForm2.E1_9KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E1_9.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E1_9.Text:='';
end;

procedure TForm2.E2_2KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E2_2.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E2_2.Text:='';
end;

procedure TForm2.E2_3KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E2_3.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E2_3.Text:='';
end;

procedure TForm2.E2_4KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E2_4.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E2_4.Text:='';
end;

procedure TForm2.E2_5KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E2_5.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E2_5.Text:='';
end;

procedure TForm2.E2_6KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E2_6.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E2_6.Text:='';
end;

procedure TForm2.E2_7KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E2_7.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E2_7.Text:='';
end;

procedure TForm2.E2_8KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E2_8.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E2_8.Text:='';
end;

procedure TForm2.E3_1KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E3_1.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E3_1.Text:='';
end;

procedure TForm2.E3_2KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E3_2.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E3_2.Text:='';
end;

procedure TForm2.E3_3KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E3_3.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E3_3.Text:='';
end;

procedure TForm2.E3_4KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E3_4.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E3_4.Text:='';
end;

procedure TForm2.E3_5KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E3_5.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E3_5.Text:='';
end;

procedure TForm2.E3_6KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E3_6.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E3_6.Text:='';
end;

procedure TForm2.E3_7KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E3_7.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E3_7.Text:='';
end;

procedure TForm2.E3_8KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E3_8.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E3_8.Text:='';
end;

procedure TForm2.E3_9KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E3_9.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E3_9.Text:='';
end;

procedure TForm2.E4_1KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E4_1.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E4_1.Text:='';
end;

procedure TForm2.E4_2KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E4_2.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E4_2.Text:='';
end;

procedure TForm2.E4_3KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E4_3.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E4_3.Text:='';
end;

procedure TForm2.E4_4KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E4_4.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E4_4.Text:='';
end;

procedure TForm2.E4_5KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E4_5.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E4_5.Text:='';
end;

procedure TForm2.E4_6KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E4_6.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E4_6.Text:='';
end;

procedure TForm2.E4_7KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E4_7.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E4_7.Text:='';
end;

procedure TForm2.E4_8KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E4_8.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E4_8.Text:='';
end;

procedure TForm2.E4_9KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E4_9.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E4_9.Text:='';
end;

procedure TForm2.E5_1KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E5_1.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E5_1.Text:='';
end;

procedure TForm2.E5_2KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E5_2.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E5_2.Text:='';
end;

procedure TForm2.E5_3KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E5_3.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E5_3.Text:='';
end;

procedure TForm2.E5_4KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E5_4.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E5_4.Text:='';
end;

procedure TForm2.E5_5KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E5_5.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E5_5.Text:='';
end;

procedure TForm2.E5_6KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E5_6.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E5_6.Text:='';
end;

procedure TForm2.E5_7KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E5_7.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E5_7.Text:='';
end;

procedure TForm2.E5_8KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E5_8.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E5_8.Text:='';
end;

procedure TForm2.E5_9KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E5_9.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E5_9.Text:='';
end;

procedure TForm2.E6_1KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E6_1.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E6_1.Text:='';
end;

procedure TForm2.E6_2KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E6_2.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E6_2.Text:='';
end;

procedure TForm2.E6_3KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E6_3.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E6_3.Text:='';
end;

procedure TForm2.E6_4KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E6_4.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E6_4.Text:='';
end;

procedure TForm2.E6_5KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E6_5.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E6_5.Text:='';
end;

procedure TForm2.E6_6KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E6_6.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E6_6.Text:='';
end;

procedure TForm2.E6_7KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E6_7.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E6_7.Text:='';
end;

procedure TForm2.E6_8KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E6_8.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E6_8.Text:='';
end;

procedure TForm2.E6_9KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E6_9.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E6_9.Text:='';
end;

procedure TForm2.E7_1KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E7_1.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E7_1.Text:='';
end;

procedure TForm2.E7_2KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E7_2.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E7_2.Text:='';
end;

procedure TForm2.E7_3KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E7_3.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E7_3.Text:='';
end;

procedure TForm2.E7_4KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E7_4.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E7_4.Text:='';
end;

procedure TForm2.E7_5KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E7_5.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E7_5.Text:='';
end;

procedure TForm2.E7_6KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E7_6.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E7_6.Text:='';
end;

procedure TForm2.E7_7KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E7_7.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E7_7.Text:='';
end;

procedure TForm2.E7_8KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E7_8.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E7_8.Text:='';
end;

procedure TForm2.E7_9KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E7_9.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E7_9.Text:='';
end;

procedure TForm2.E8_1KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E8_1.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E8_1.Text:='';
end;

procedure TForm2.E8_2KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E8_2.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E8_2.Text:='';
end;

procedure TForm2.E8_3KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E8_3.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E8_3.Text:='';
end;

procedure TForm2.E8_4KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E8_4.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E8_4.Text:='';
end;

procedure TForm2.E8_5KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E8_5.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E8_5.Text:='';
end;

procedure TForm2.E8_6KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E8_6.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E8_6.Text:='';
end;

procedure TForm2.E8_7KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E8_7.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E8_7.Text:='';
end;

procedure TForm2.E8_8KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E8_8.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E8_8.Text:='';
end;

procedure TForm2.E8_9KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E8_9.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E8_9.Text:='';
end;

procedure TForm2.E9_1KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E9_1.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E9_1.Text:='';
end;

procedure TForm2.E9_2KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E9_2.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E9_2.Text:='';
end;

procedure TForm2.E9_3KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E9_3.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E9_3.Text:='';
end;

procedure TForm2.E9_4KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E9_4.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E9_4.Text:='';
end;

procedure TForm2.E9_5KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E9_5.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E9_5.Text:='';
end;

procedure TForm2.E9_6KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E9_6.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E9_6.Text:='';
end;

procedure TForm2.E9_7KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E9_7.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E9_7.Text:='';
end;

procedure TForm2.E9_8KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E9_8.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E9_8.Text:='';
end;

procedure TForm2.E9_9KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E9_9.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E9_9.Text:='';
end;

procedure TForm2.E1_7KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E1_7.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E1_7.Text:='';
end;

procedure TForm2.E1_8KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E1_8.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E1_8.Text:='';
end;

procedure TForm2.E2_1KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E2_1.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E2_1.Text:='';
end;

procedure TForm2.E2_9KeyUp(Sender: TObject; var Key: Word;
  Shift: TShiftState);
begin
S:=E2_9.Text;
if (S[1]<>'')and(not(S[1] in ['1'..'9'])) then E2_9.Text:='';
end;

procedure TForm2.Button3Click(Sender: TObject);
Var
  F:TextFile;
  i,j,k:byte;
begin
Timer1.Enabled:=false;
if OpenDialog1.Execute then
begin
AssignFile(F,OpenDialog1.FileName);
Reset(F);
for i:=1 to 9 do
  Begin
  For j:=1 to 9 do
    Begin
    Readln(F,DataToSave[i,j]);
    if DataToSave[i,j]='0' then DataToSave[i,j]:='';
    End;
  End;
for i:=1 to 9 do
  Begin
  For j:=1 to 9 do
    Begin
    Readln(F,Map[i,j]);
    End;
  End;
Readln(F,k);
ComboBox1.ItemIndex:=k;
Readln(F,TimeGame);
CloseFile(F);

Clearing;
ShowMap;
ClearMap;
DataToMap;
end;
Timer1.Enabled:=true;
end;

procedure TForm2.FormCloseQuery(Sender: TObject; var CanClose: Boolean);
begin
Timer1.Enabled:=false;
CanClose:=false;
r:=MessageDLG('Вы уверены, что хотите выйти?',mtWarning,[mbYes,mbNo],0);
if r=mrYes then CanClose:=true
else timer1.Enabled:=true;
end;

procedure TForm2.ComboBox1Change(Sender: TObject);
begin
Timer1.Enabled:=False;
r:=MessageDLG('Начало новой игры удалит текущую игру. Вы уверены, что хотите начать новую?',
  mtWarning,[mbYes,mbNo],0);
if r=mrYes then
Begin
  Clearing;
  Example;
  Mapping;
  CreateMap;
  ShowMap;
  ClearMap;
  TimeGame:=0;
  Level:=Combobox1.ItemIndex;
End;
Combobox1.ItemIndex:=Level;
Timer1.Enabled:=True;
end;

end.
